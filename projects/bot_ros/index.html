<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Bot-ROS | Shail Dalal Portfolio</title> <meta name="author" content="Shail Dalal"> <meta name="description" content="Pointilism painting robot"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://sdalal1.github.io/projects/bot_ros/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">Shail Dalal Portfolio</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Bot-ROS</h1> <p class="post-description">Pointilism painting robot</p> </header> <article> <h2 id="project-pointillism-painting-with-emika-franka-panda-arm">Project: Pointillism Painting with Emika Franka Panda Arm</h2> <p><strong>Description:</strong></p> <p>The project was created as a team to engineer a sophisticated dot-painting system. The primary objective was to leverage the Emika Franka Panda 7 DOF robotic arm to create captivating pointillism artwork. To achieve this, we integrated cutting-edge technologies encompassing computer vision, color detection, and precision trajectory planning. Notably, the team developed intricate algorithms specifically tailored to transform images into a series of precise points suitable for the pointillism-based painting technique.</p> <p><strong>Image Transformation:</strong></p> <ul> <li>Engaged in the intricate process of transforming high-resolution images into a series of meticulously placed dots. This involved meticulous planning and execution to ensure the accuracy and fidelity of the pointillism rendition.</li> </ul> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/S_edge_detection-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/S_edge_detection-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/S_edge_detection-1400.webp"></source> <img src="/assets/img/S_edge_detection.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="S image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Edge detection on an image and then converting it to dots </div> <p><strong>Computer Vision Techniques:</strong></p> <ul> <li>Implemented advanced computer vision techniques, including color tracking, and thresholding, to identify the location of brushes and various paint colors on the palette. This enabled the robot arm to precisely interact with the palette and paintbrushes.</li> <li>I was responsible for the color and palette detection algorithm. This algorithm uses an Intel realsense to get the loaction of the palette april tag and create a mask around it. A color detection algorithm was used in this mask to find location of centroid of 6 different colors.</li> <li>The ROS package called color captured the image from the realsense, then change the color pattern from BGR to HSV. For different colors, the lower and upper hue, saturation and value were found using a track-bar and then fed into the code for permanent color detection. The algorithm finds all the contours in that value range and then finds the centroid of the largest one.</li> <li>A very important part of this algorithm was to convert cartesian coordinates to the pixel value. To do that the camera intrinsic values were needed which are published on the camera_info topic. The position of the apriltag is in cartesian coordinates which are converted to pixels which is used to create a mask. The centroid of each color is then found in the pixel coordinate and then converted to the cartesian coordinates. These points were then published on the TF tree with respect to the camera frame.</li> </ul> <p><strong>ROS MoveIt API Implementation:</strong></p> <ul> <li>Skillfully utilized a custom MoveIt API tailored explicitly for the Franka Panda arm. This facilitated precise trajectory planning and execution, ensuring the robot arm moved accurately to create the desired pointillism patterns.</li> <li>The API created has multiple commands which can be called in another scripts. These constraint different aspects of the robot.</li> </ul> <ul> <ul> <li>The plan path to position command moves the end-effector to a position passed.</li> <li>The plan path to orientation moves the end-effector to the specified orientation in terms of quaternions.</li> <li>The plan path to position orientation moves the Franka to the designated position with the orientation passed as the orientation of the end-effector.</li> <li>The plan path to cartesian plans a path to waypoints with the orientation constraint through the path.</li> </ul> </ul> <p><strong>Successful System Delivery:</strong></p> <ul> <li>Delivered a fully functional and efficient system capable of translating digital images into captivating pointillism artwork. The successful execution demonstrated the effectiveness and reliability of our system’s capabilities. The video is as follows:</li> </ul> <div class="row "> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/video/S_speedup.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls=""></video> </figure> </div> </div> <div class="caption"> A video of the fraka painting a 'S' logo with orange border </div> <p><strong>Future Enhancements:</strong></p> <p>Future enhancements include implementing dynamic paint brush checks, optimizing the number of painting points without compromising image quality, expanding the robot’s workspace, and incorporating dynamic canvas positioning. These enhancements will amplify the system’s creativity and flexibility, enabling it to produce even more intricate and stunning pointillism artwork.</p> <p><strong>Team Members</strong> The amazing team - Nader Ahmed, Demiana Barsoum, Fiona Neylon, Courtney Smith</p> <p>The code can be found at this <a href="https://github.com/sdalal1/franka_bot_ros" rel="external nofollow noopener" target="_blank">github</a> link</p> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Shail Dalal. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?07b8786bab9b4abe90d10e61f7d12ff7" type="text/javascript"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>